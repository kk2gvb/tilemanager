# Конфигурация Hyprland с Waybar

Этот репозиторий содержит настроенную конфигурацию для **Hyprland**, динамического композитора Wayland, в сочетании с **Waybar**, настраиваемой панелью состояния. Настройка предназначена для создания современного, минималистичного и функционального рабочего окружения с поддержкой различных модулей, таких как Bluetooth, сеть, аудио и статус батареи, а также горячих клавиш для эффективной работы.

## Обзор

Конфигурация включает:
- **Hyprland**: Композитор Wayland с динамическим тайлингом, анимациями и пользовательскими правилами для окон.
- **Waybar**: Настраиваемая панель состояния с модулями для мониторинга и управления системой.
- **Пользовательские скрипты**: Скрипты для переключения раскладки клавиатуры и других утилит.
- **Стилизация**: Единый внешний вид с прозрачностью, скруглёнными углами и современным шрифтом.

## Возможности

### Hyprland
- **Настройка монитора**: Автоматическая конфигурация с коэффициентом масштабирования 1.2.
- **Горячие клавиши**: Используется клавиша `SUPER` (Windows) как основной модификатор для запуска приложений, управления окнами и переключения рабочих пространств.
  - `SUPER + Q`: Открытие терминала Alacritty.
  - `SUPER + E`: Открытие файлового менеджера Nautilus.
  - `SUPER + R`: Запуск меню Rofi.
  - `SUPER + 1-0`: Переключение на рабочие пространства 1–10.
  - `SUPER + Shift + 1-0`: Перемещение активного окна на рабочие пространства 1–10.
  - `SUPER + Space`: Переключение раскладки клавиатуры (us/ru).
  - **Мультимедийные клавиши Управление громкостью, яркостью и медиаплеером (через `playerctl`).
- **Анимации**: Плавные анимации для окон, рабочих пространств и слоёв с использованием кривых Безье.
- **Правила для окон**: Плавающие окна для приложений, таких как Nautilus`, `blueman-manager`, `pavucontrol`, и других диалоговых окон с автоматическим изменением размера и позиционирования.
- **Автозапуск**:
  - `Waybar`: Панель состояния.
  - `neokray`: Сетевое приложение.
  - `swaykbdd`: Управление раскладкой клавиатуры.
  - `swww`: Установка обоев (файл `1.jpg` из папки `~/wallpapers/`).
  - Пользовательский скрипт для оповещений о батарейке (`battery-alert`).
- **Внешний вид**:
  - Прозрачность окон, скругления углов, тени.
  - Настраиваемые границы окон с градиентом для активных окон.
  - Поддержка псевдотайлинга и сохранения разделения в Dwindle-раскладке.

### Waybar
- **Модули**:
  - **Левая часть**: Пользовательская иконка (`custom/eye`), Pulseaudio (выход и вход), CPU, память, Bluetooth, сеть.
  - **Центр**: Часы, индикатор раскладки клавиатуры.
  - **Правая часть**: Системный трей, батарея, яркость, кнопка питания.
- **Функциональность**:
  - **Bluetooth**: Отображение статуса и имени подключённого устройства, запуск `blueman-manager` по клику.
  - **Pulseaudio**: Управление громкостью, отображение статуса микрофона, запуск `pavucontrol`.
  - **Сеть**: Отображение Wi-Fi, Ethernet или статуса отключения, запуск `nmtui` в Alacritty по клику.
  - **Часы**: Формат `ЧЧ:ММ ДД/ММ/ГГГГ`, календарь в всплывающей подсказке, запуск Google Calendar по правому клику.
  - **Батарея**: Отображение уровня заряда и статуса зарядки.
  - **Яркость**: Отображение текущего уровня яркости экрана.
  - **Клавиатура**: Индикатор раскладки с использованием скрипта `kb_layout.sh`.
  - **Питание**: Кнопка для запуска `wlogout` (меню выключения).
- **Стилизация**:
  - Прозрачный фон с лёгким голубым оттенком.
  - Шрифт `JetBrainsMono Nerd Font` размером 14px.
  - Скруглённые углы модулей.
  - Цветовая схема с белым текстом и акцентами для отключённой сети.

### Стили (style.css)
- Прозрачный фон Waybar с RGBA-цветом.
- Настраиваемые модули с минимальными отступами и скруглениями.
- Цветовая схема для отключённой сети (красный текст на тёмном фоне).
- Системный трей с отступами для иконок.

## Структура файлов

- **hyprland.conf**: Основной конфигурационный файл Hyprland.
- **config_waybar.txt**: Конфигурация Waybar (JSON-формат).
- **style.css**: Стили для Waybar.
- **Скрипты** (упомянуты в конфигурации):
  - `~/.config/waybar/scripts/kb_layout.sh`: Скрипт для отображения текущей раскладки клавиатуры.
  - `~/.config/scripts/change_language.sh`: Скрипт для переключения раскладки.
  - `~/.config/scripts/battery-alert`: Скрипт для оповещений о состоянии батареи.

## Установка

1. **Установите Hyprland и Waybar**:
   ```bash
   sudo pacman -S hyprland waybar
   ```
   Или используйте пакетный менеджер вашего дистрибутива.

2. **Установите зависимости**:
   - `alacritty`: Терминал.
   - `nautilus`: Файловый менеджер.
   - `rofi`: Лаунчер приложений.
   - `swaykbdd`: Управление раскладкой клавиатуры.
   - `grim`, `slurp`, `wl-copy`: Утилиты для скриншотов.
   - `wpctl`, `playerctl`: Управление звуком и медиаплеером.
   - `brightnessctl`: Управление яркостью.
   - `blueman`: Управление Bluetooth.
   - `pavucontrol`: Управление звуком (графический интерфейс).
   - `nmtui`: Управление сетью (терминал).
   - `wlogout`: Меню выключения.
   - `neokray`, Firefox, Telegram, Discord, Steam, Maple: Дополнительные приложения. (По желанию)

3. **Скопируйте конфигурационные файлы**:
   ```bash
   mkdir -p ~/.config/hyprland ~/.config/waybar
   cp hyprland.conf ~/.config/hyprland/
   cp config_waybar.txt ~/.config/waybar/config.json
   cp style.css ~/.config/waybar/
   ```

4. **Настройте обои**:
   Убедитесь, что файл обоев существует по пути `~/images/1.jpg`, или обновите путь в `hyprland.conf`.

5. **Создайте скрипты**:
   Поместите упомянутые скрипты в соответствующие директории (`~/.config/waybar/scripts/` и `~/.config/scripts/`) и дайте им права на выполнение:
   ```bash
   chmod +x ~/.config/waybar/scripts/kb_layout.sh
   chmod +x ~/.config/scripts/change_language.sh
   chmod +x ~/.config/scripts/battery-alert
   ```

6. **Запустите Hyprland**:
   Запустите Hyprland через ваш дисплейный менеджер или выполните:
   ```bash
   Hyprland
   ```

## Настройка

- **Изменение раскладки клавиатуры**:
  - Раскладки `us` и `ru` переключаются с помощью `SUPER + Space`.
  - Настройте `kb_layout.sh` для отображения текущей раскладки в Waybar.
- **Добавление новых приложений**:
  - Обновите `hyprland.conf` в секции `Keybindings` для добавления новых горячих клавиш.
  - Добавьте новые модули в `config_waybar.txt` и настройте их стили в `style.css`.

- **Настройка обоев**:
  - Замените путь к файлу обоев в `exec-once = swww img /home/kk2gvb/wallpapers/1.jpg` в `hyprland.conf`.

## Известные проблемы

- **Waybar не отображается**: Проверьте правильность пути к `config.json` и `style.css`, а также убедитесь, что Waybar установлен и запущен.
- **Скрипты не работают**: Убедитесь, что скрипты имеют права на выполнение и что все зависимости установлены).
- **Проблемы с раскладкой клавиатуры**: Проверьте настройки `input` в `hyprland.conf` и работу `swaykbdd`.

## Лицензия

Эта конфигурация предоставляется по лицензии MIT. Вы можете свободно использовать, модифицировать и распространять её.

## Благодарности

- [Hyprland](https://hyprland.org/): За отличный композитор Wayland.
- [Waybar](https://github.com/Alexays/Waybar): За гибкую панель состояния.
- Сообщества Arch Wiki и Hyprland за документацию и примеры.
